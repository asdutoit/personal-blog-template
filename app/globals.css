/* @import "prismjs/themes/prism-tomorrow.css" layer(base); */

@import "tailwindcss";

@custom-variant dark (&:is(.dark *));

@theme {
  --color-primary-50: #eff6ff;
  --color-primary-100: #dbeafe;
  --color-primary-200: #bfdbfe;
  --color-primary-300: #93c5fd;
  --color-primary-400: #60a5fa;
  --color-primary-500: #3b82f6;
  --color-primary-600: #2563eb;
  --color-primary-700: #1d4ed8;
  --color-primary-800: #1e40af;
  --color-primary-900: #1e3a8a;
  --color-primary-950: #172554;

  --color-secondary-50: #f5f3ff;
  --color-secondary-100: #ede9fe;
  --color-secondary-200: #ddd6fe;
  --color-secondary-300: #c4b5fd;
  --color-secondary-400: #a78bfa;
  --color-secondary-500: #8b5cf6;
  --color-secondary-600: #7c3aed;
  --color-secondary-700: #6d28d9;
  --color-secondary-800: #5b21b6;
  --color-secondary-900: #4c1d95;

  --color-purple-50: #faf5ff;
  --color-purple-100: #f3e8ff;
  --color-purple-200: #e9d5ff;
  --color-purple-300: #d8b4fe;
  --color-purple-400: #c084fc;
  --color-purple-500: #a855f7;
  --color-purple-600: #9333ea;
  --color-purple-700: #7e22ce;
  --color-purple-800: #6b21a8;
  --color-purple-900: #581c87;

  --color-success-50: #f0fdf4;
  --color-success-500: #22c55e;
  --color-success-600: #16a34a;

  --color-warning-50: #fffbeb;
  --color-warning-500: #f59e0b;
  --color-warning-600: #d97706;

  --color-error-50: #fef2f2;
  --color-error-500: #ef4444;
  --color-error-600: #dc2626;

  --color-info-50: #eff6ff;
  --color-info-500: #3b82f6;
  --color-info-600: #2563eb;

  --color-gray-50: #f9fafb;
  --color-gray-100: #f3f4f6;
  --color-gray-200: #e5e7eb;
  --color-gray-300: #d1d5db;
  --color-gray-400: #9ca3af;
  --color-gray-500: #6b7280;
  --color-gray-600: #4b5563;
  --color-gray-700: #374151;
  --color-gray-800: #1f2937;
  --color-gray-900: #111827;
  --color-gray-950: #030712;

  --font-sans: Inter, system-ui, -apple-system, BlinkMacSystemFont, Segoe UI,
    Roboto, Helvetica Neue, Arial, sans-serif;
  --font-mono: JetBrains Mono, SF Mono, Monaco, Consolas, Liberation Mono,
    Courier New, monospace;

  --animate-spin: spin 1s linear infinite;
  --animate-ping: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;
  --animate-pulse: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  --animate-bounce: bounce 1s infinite;
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
  :root {
    --radius: 0.65rem;
    --background: oklch(1 0 0);
    --foreground: oklch(0.141 0.005 285.823);
    --card: oklch(1 0 0);
    --card-foreground: oklch(0.141 0.005 285.823);
    --popover: oklch(1 0 0);
    --popover-foreground: oklch(0.141 0.005 285.823);
    --primary: oklch(0.623 0.214 259.815);
    --primary-foreground: oklch(0.97 0.014 254.604);
    --secondary: oklch(0.967 0.001 286.375);
    --secondary-foreground: oklch(0.21 0.006 285.885);
    --muted: oklch(0.967 0.001 286.375);
    --muted-foreground: oklch(0.552 0.016 285.938);
    --accent: oklch(0.967 0.001 286.375);
    --accent-foreground: oklch(0.21 0.006 285.885);
    --destructive: oklch(0.577 0.245 27.325);
    --border: oklch(0.92 0.004 286.32);
    --input: oklch(0.92 0.004 286.32);
    --ring: oklch(0.623 0.214 259.815);
    --chart-1: var(--color-blue-300);
    --chart-2: var(--color-blue-500);
    --chart-3: var(--color-blue-600);
    --chart-4: var(--color-blue-700);
    --chart-5: var(--color-blue-800);
    --sidebar: oklch(0.985 0 0);
    --sidebar-foreground: oklch(0.141 0.005 285.823);
    --sidebar-primary: oklch(0.623 0.214 259.815);
    --sidebar-primary-foreground: oklch(0.97 0.014 254.604);
    --sidebar-accent: oklch(0.967 0.001 286.375);
    --sidebar-accent-foreground: oklch(0.21 0.006 285.885);
    --sidebar-border: oklch(0.92 0.004 286.32);
    --sidebar-ring: oklch(0.623 0.214 259.815);
  }

  .dark {
    --background: oklch(0.141 0.005 285.823);
    --foreground: oklch(0.985 0 0);
    --card: oklch(0.21 0.006 285.885);
    --card-foreground: oklch(0.985 0 0);
    --popover: oklch(0.21 0.006 285.885);
    --popover-foreground: oklch(0.985 0 0);
    --primary: oklch(0.546 0.245 262.881);
    --primary-foreground: oklch(0.379 0.146 265.522);
    --secondary: oklch(0.274 0.006 286.033);
    --secondary-foreground: oklch(0.985 0 0);
    --muted: oklch(0.274 0.006 286.033);
    --muted-foreground: oklch(0.705 0.015 286.067);
    --accent: oklch(0.274 0.006 286.033);
    --accent-foreground: oklch(0.985 0 0);
    --destructive: oklch(0.704 0.191 22.216);
    --border: oklch(1 0 0 / 10%);
    --input: oklch(1 0 0 / 15%);
    --ring: oklch(0.488 0.243 264.376);
    --chart-1: var(--color-blue-300);
    --chart-2: var(--color-blue-500);
    --chart-3: var(--color-blue-600);
    --chart-4: var(--color-blue-700);
    --chart-5: var(--color-blue-800);
    --sidebar: oklch(0.21 0.006 285.885);
    --sidebar-foreground: oklch(0.985 0 0);
    --sidebar-primary: oklch(0.546 0.245 262.881);
    --sidebar-primary-foreground: oklch(0.379 0.146 265.522);
    --sidebar-accent: oklch(0.274 0.006 286.033);
    --sidebar-accent-foreground: oklch(0.985 0 0);
    --sidebar-border: oklch(1 0 0 / 10%);
    --sidebar-ring: oklch(0.488 0.243 264.376);
  }
}

/* Base Styles */
@layer base {
  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply font-sans leading-relaxed;
  }
}

/* Prose Typography Styles for Markdown Content */
.prose {
  @apply text-gray-700 dark:text-gray-300 max-w-none;
}

.prose h1 {
  @apply text-4xl md:text-5xl font-bold text-gray-900 dark:text-gray-50 mb-8 mt-12 tracking-tight;
}

.prose h2 {
  @apply text-3xl md:text-4xl font-semibold text-gray-900 dark:text-gray-50 mb-6 mt-10 tracking-tight;
}

.prose h3 {
  @apply text-2xl md:text-3xl font-semibold text-gray-900 dark:text-gray-50 mb-4 mt-8 tracking-tight;
}

.prose h4 {
  @apply text-xl md:text-2xl font-semibold text-gray-900 dark:text-gray-50 mb-3 mt-6;
}

.prose h5 {
  @apply text-lg md:text-xl font-semibold text-gray-900 dark:text-gray-50 mb-2 mt-4;
}

.prose h6 {
  @apply text-base md:text-lg font-semibold text-gray-900 dark:text-gray-50 mb-2 mt-4;
}

.prose p {
  @apply text-base leading-relaxed;
}

.prose strong {
  @apply font-semibold text-gray-900 dark:text-gray-100;
}

.prose em {
  @apply italic;
}

.prose a {
  @apply decoration-primary-600/30 hover:decoration-primary-600/60 transition-colors;
}

/* .prose a:hover {
  @apply text-primary-700 dark:text-primary-300;
} */

/* Lists */
.prose ul {
  @apply list-disc list-inside space-y-2 mb-6 text-gray-600 dark:text-gray-400 pl-4;
}

.prose ol {
  @apply list-decimal list-inside space-y-2 mb-6 text-gray-600 dark:text-gray-400 pl-4;
}

.prose li {
  @apply leading-relaxed;
}

.prose li p {
  @apply inline;
}

/* Nested lists */
.prose ul ul,
.prose ol ul {
  @apply list-disc ml-6 mt-2;
}

.prose ul ol,
.prose ol ol {
  @apply list-decimal ml-6 mt-2;
}

/* Blockquotes */
.prose blockquote {
  @apply border-l-4 border-primary-600 dark:border-primary-400 pl-6 py-2 mb-6 italic text-gray-700 dark:text-gray-300;
}

.prose blockquote p {
  @apply mb-0;
}

/* Code */
.prose code:not(.code-block code) {
  @apply px-1.5 py-0.5 rounded bg-gray-100 dark:bg-gray-800 text-primary-600 dark:text-primary-400 font-mono text-sm;
}

.prose pre {
  @apply bg-gray-900 dark:bg-gray-950 text-gray-100 rounded-lg p-6 mb-6 overflow-x-auto;
}

.prose pre code {
  @apply bg-transparent p-0 rounded-none text-gray-100 text-sm;
}

/* Tables */
.prose table {
  @apply w-full text-left border-collapse mb-6;
}

.prose thead {
  @apply bg-gray-50 dark:bg-gray-900 border-b-2 border-gray-200 dark:border-gray-700;
}

.prose tbody {
  @apply divide-y divide-gray-200 dark:divide-gray-800;
}

.prose tr {
  @apply hover:bg-gray-50 dark:hover:bg-gray-900/50 transition-colors;
}

.prose th {
  @apply px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider;
}

.prose td {
  @apply px-6 py-4 text-sm text-gray-600 dark:text-gray-400;
}

/* Horizontal Rules */
.prose hr {
  @apply border-gray-200 dark:border-gray-800 my-12;
}

/* Images */
.prose img {
  @apply rounded-lg shadow-lg w-full;
}

/* Prose modifiers */
.prose-lg {
  @apply text-lg;
}

.prose-lg p {
  @apply text-lg leading-relaxed mb-7;
}

.prose-lg h1 {
  @apply text-5xl md:text-6xl;
}

.prose-lg h2 {
  @apply text-4xl md:text-5xl;
}

.prose-lg h3 {
  @apply text-3xl md:text-4xl;
}

.prose-lg h4 {
  @apply text-2xl md:text-3xl;
}

/* Dark mode inverted colors */
.prose-invert {
  @apply text-gray-300;
}

.prose-invert h1,
.prose-invert h2,
.prose-invert h3,
.prose-invert h4,
.prose-invert h5,
.prose-invert h6 {
  @apply text-gray-50;
}

.prose-invert strong {
  @apply text-gray-100;
}

.prose-invert a {
  @apply text-primary-400;
}

.prose-invert a:hover {
  @apply text-primary-300;
}

.prose-invert code:not(.code-block code) {
  @apply bg-gray-800 text-primary-400;
}

.prose-invert blockquote {
  @apply border-primary-400 text-gray-300;
}

/* Max width for better readability */
.prose-narrow {
  @apply max-w-3xl mx-auto;
}

/* Hide MDX frontmatter when displayed */
.mdx-content > hr:first-child {
  display: none;
}

.mdx-content > hr:first-child + * {
  display: none;
}

.mdx-content > hr:first-child + * + hr {
  display: none;
}

/* Hide duplicate h1 title if using BlogLayout */
.mdx-content > hr:first-child + * + hr + h1:first-of-type {
  display: none;
}

/* Custom Focus Styles */
*:focus {
  @apply outline-2 outline-offset-2 outline-primary-600;
}

*:focus:not(:focus-visible) {
  @apply outline-hidden;
}

/* Custom Scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-gray-100 dark:bg-gray-900;
}

::-webkit-scrollbar-thumb {
  @apply bg-gray-400 dark:bg-gray-600 rounded-sm;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-gray-500 dark:bg-gray-500;
}

/* Prism.js Syntax Highlighting Theme - Custom overrides */
/* Override Prism's default background */
pre[class*="language-"] {
  @apply bg-gray-900! dark:bg-gray-950!;
  margin: 0 !important;
}

code[class*="language-"] {
  @apply text-gray-100!;
  background: none !important;
}

/* Custom Syntax Highlighting Colors - GitHub Dark Theme Style */
/* You can customize these colors to create your own theme */
.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
  color: #8b949e; /* Gray comments */
}

.token.punctuation {
  color: #c9d1d9; /* Light gray punctuation */
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
  color: #79c0ff; /* Blue for constants/numbers */
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
  color: #a5d6ff; /* Light blue for strings */
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
  color: #ff7b72; /* Red/orange for operators */
}

.token.atrule,
.token.attr-value,
.token.keyword {
  color: #ff7b72; /* Red/orange for keywords */
}

.token.function,
.token.class-name {
  color: #d2a8ff; /* Purple for functions */
}

.token.regex,
.token.important,
.token.variable {
  color: #ffa657; /* Orange for variables */
}

.token.important,
.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}

/* Alternative: VS Code Dark+ Theme Colors */
/*
.token.comment { color: #6a9955; }
.token.keyword { color: #569cd6; }
.token.string { color: #ce9178; }
.token.function { color: #dcdcaa; }
.token.number { color: #b5cea8; }
.token.operator { color: #d4d4d4; }
.token.class-name { color: #4ec9b0; }
.token.variable { color: #9cdcfe; }
*/

/* Alternative: Monokai Theme Colors */
/*
.token.comment { color: #75715e; }
.token.keyword { color: #f92672; }
.token.string { color: #e6db74; }
.token.function { color: #66d9ef; }
.token.number { color: #ae81ff; }
.token.operator { color: #f8f8f2; }
.token.class-name { color: #a6e22e; }
.token.variable { color: #f8f8f2; }
*/

.code-block {
  @apply bg-gray-900 dark:bg-gray-950 text-gray-100 rounded-lg p-6 mb-6 overflow-x-auto border border-gray-200 dark:border-gray-800 relative;
  user-select: text !important;
  -webkit-user-select: text !important;
  -moz-user-select: text !important;
  -ms-user-select: text !important;
}

.code-block code {
  @apply px-0 py-0 bg-transparent border-0 text-inherit font-mono text-sm leading-relaxed;
  user-select: text !important;
  -webkit-user-select: text !important;
  -moz-user-select: text !important;
  -ms-user-select: text !important;
}

/* Ensure text selection is visible */
.code-block ::selection {
  @apply bg-blue-500/30 text-white;
}

.code-block ::-moz-selection {
  @apply bg-blue-500/30 text-white;
}

/* Language indicator */
.code-block.language-javascript:before {
  content: "JS";
}
.code-block.language-typescript:before {
  content: "TS";
}
.code-block.language-jsx:before {
  content: "JSX";
}
.code-block.language-tsx:before {
  content: "TSX";
}
.code-block.language-css:before {
  content: "CSS";
}
.code-block.language-html:before {
  content: "HTML";
}
.code-block.language-json:before {
  content: "JSON";
}
.code-block.language-yaml:before {
  content: "YAML";
}
.code-block.language-bash:before {
  content: "BASH";
}
.code-block.language-shell:before {
  content: "SHELL";
}
.code-block.language-python:before {
  content: "PYTHON";
}
.code-block.language-go:before {
  content: "GO";
}
.code-block.language-java:before {
  content: "JAVA";
}
.code-block.language-docker:before {
  content: "DOCKER";
}
.code-block.language-sql:before {
  content: "SQL";
}
.code-block.language-hcl:before {
  content: "HCL";
}

.code-block:before {
  @apply absolute top-2 right-12 text-xs font-mono text-gray-400 uppercase tracking-wide;
}

/* Copy button styles */
.copy-code-btn {
  @apply absolute top-2 right-2 w-8 h-8 rounded-md bg-gray-700 hover:bg-gray-600 text-gray-300 hover:text-white transition-all duration-200 flex items-center justify-center;
  opacity: 0;
  z-index: 10;
}

.group:hover .copy-code-btn {
  opacity: 1;
}

/* Additional copy button styling for MDX code blocks */
.relative.group button {
  @apply absolute top-3 right-3 w-8 h-8 rounded-md bg-gray-700 hover:bg-gray-600 text-gray-300 hover:text-white transition-all duration-200 flex items-center justify-center z-10;
  opacity: 0;
}

.relative.group:hover button,
.relative.group button:hover {
  opacity: 1 !important;
}

/* Force copy button visibility on hover */
div.relative.group:hover .copy-button {
  opacity: 1 !important;
}

/* Ensure copy button shows on hover */
.group:hover button[title*="Copy"],
.group:hover button[title*="Copied"] {
  opacity: 1 !important;
}

/* Animations */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes ping {
  75%,
  100% {
    transform: scale(2);
    opacity: 0;
  }
}

@keyframes pulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

@keyframes bounce {
  0%,
  100% {
    transform: translateY(-25%);
    animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
  }
  50% {
    transform: translateY(0);
    animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
  }
}
